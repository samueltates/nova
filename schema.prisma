// generator
generator client {
  provider             = "prisma-client-py"
  recursive_type_depth = 5
}

datasource db {
  provider = "mysql"
  url      =  env("DATABASE_URL")
}

model batch {
  id        Int     @id @default(autoincrement())
  dateRange String
  summary   String  @db.Text @default("")
  batched   Boolean
  UserID    String  @default("sam")
}

model log {
  key       String  @default("")
  id        Int     @id @default(autoincrement())
  SessionID String  @default("")
  UserID    String  @default("")
  date      String  @default("")
  summary   String? @db.Text @default("")
  body      String? @db.Text @default("")
  batched   Boolean @default(false)
}

model convo {
  id        Int     @id @default(autoincrement())
  convo_ID  String  @default("")
  user_ID   String  @default("")
  timestamp String  @default("")
}

model message {
  id        Int    @id @default(autoincrement())
  key       String  @default("")
  SessionID String
  UserID    String
  name      String
  timestamp String
  body      String? @db.Text @default("")
  batched   Boolean @default(false)
  summarised Boolean @default(false)
  minimised Boolean @default(false)
  muted    Boolean @default(false)
  blob      Json? @default("{}")

}

model summary {
  id        Int    @id @default(autoincrement())
  key       String @default("")
  SessionID String
  UserID    String
  timestamp String
  title     String? @db.Text @default("")
  body      String? @db.Text @default("")
  blob      Json? @default("{}")
  convoID   String? @default("")
  summarised Boolean @default(false)
  minimised Boolean @default(false)
  muted    Boolean @default(false)

}

model user {
  id     Int    @id @default(autoincrement())
  name   String
  UserID String 
  blob    Json? @default("{}")

  // password String
  // email    String @unique
}

model session {
  id        Int    @id @default(autoincrement())
  SessionID String
  key       String @default("")
  UserID    String
  blob      Json? @default("{}")

  }

model cartridge {
  id        Int    @id @default(autoincrement())
  key       String @default("")
  UserID    String
  blob      Json? @default("{}")
  archived  Boolean @default(false)
  softDeleted Boolean @default(false)
  indexOrder Int @default(0)  
  indexes String @default("")
  
  }

  model index{
    id        Int    @id @default(autoincrement())
    key       String @default("")
    UserID    String
    docstore      Json? @default("{}")
    index_store     Json? @default("{}")
    vector_store   Json? @default("{}")
    blob     Json? @default("{}")
    archived  Boolean @default(false)
    softDeleted Boolean @default(false)
    }
  
  model loadout{

    id        Int    @id @default(autoincrement())
    key       String @default("")
    UserID    String
    blob      Json? @default("{}")
  
  }